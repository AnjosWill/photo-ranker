# ðŸ§ª Testes - Feature 4.5 (Multi-Project Base)

## Casos de Teste

### CT1 â€” Object Store

#### CT1.1 â€” CriaÃ§Ã£o do Store
- [ ] **Passo 1:** Abrir DevTools â†’ Application â†’ IndexedDB
- [ ] **Passo 2:** Verificar DB `photoranker` versÃ£o 2
- [ ] **Passo 3:** Verificar store `contests` existe
- [ ] **Passo 4:** Verificar Ã­ndices: `by-date`, `by-phase`
- [ ] **âœ… Resultado Esperado:** Store criado corretamente

---

### CT2 â€” MigraÃ§Ã£o AutomÃ¡tica

#### CT2.1 â€” Primeira MigraÃ§Ã£o
- [ ] **Passo 1:** DB com fotos antigas (sem projectId)
- [ ] **Passo 2:** Recarregar pÃ¡gina
- [ ] **Passo 3:** Toast: "Dados migrados para sistema de projetos!"
- [ ] **Passo 4:** DevTools â†’ verificar contest "default" criado
- [ ] **Passo 5:** Verificar fotos tÃªm `projectId = 'default'`
- [ ] **âœ… Resultado Esperado:** MigraÃ§Ã£o sem perda de dados

#### CT2.2 â€” MigraÃ§Ã£o Idempotente
- [ ] **Passo 1:** MigraÃ§Ã£o jÃ¡ realizada
- [ ] **Passo 2:** Recarregar pÃ¡gina
- [ ] **Passo 3:** Sem toast de migraÃ§Ã£o
- [ ] **Passo 4:** Nenhum contest duplicado
- [ ] **âœ… Resultado Esperado:** NÃ£o migra novamente

---

### CT3 â€” CRUD de Contests

#### CT3.1 â€” Criar Contest
- [ ] **Passo 1:** Console: `createContest('Viagem 2025', 'Fotos da viagem')`
- [ ] **Passo 2:** Retorna ID do contest
- [ ] **Passo 3:** `getAllContests()` â†’ lista inclui novo contest
- [ ] **âœ… Resultado Esperado:** Contest criado

#### CT3.2 â€” Atualizar Contest
- [ ] **Passo 1:** Contest existente (id: 'test')
- [ ] **Passo 2:** `updateContest('test', { name: 'Novo Nome' })`
- [ ] **Passo 3:** `getContest('test')` â†’ nome atualizado
- [ ] **âœ… Resultado Esperado:** Contest atualizado

#### CT3.3 â€” Deletar Contest
- [ ] **Passo 1:** Contest existente (id: 'test')
- [ ] **Passo 2:** `deleteContest('test')`
- [ ] **Passo 3:** `getAllContests()` â†’ contest removido
- [ ] **âœ… Resultado Esperado:** Contest deletado

---

### CT4 â€” Fotos por Projeto

#### CT4.1 â€” Filtrar por ProjectId
- [ ] **Passo 1:** 10 fotos: 6 em 'default', 4 em 'viagem'
- [ ] **Passo 2:** `getPhotosByProject('default')`
- [ ] **Passo 3:** Retorna 6 fotos
- [ ] **âœ… Resultado Esperado:** Filtro correto

---

### CT5 â€” Compatibilidade

#### CT5.1 â€” Fotos Antigas Funcionam
- [ ] **Passo 1:** Fotos da Sprint 1-3 (sem projectId)
- [ ] **Passo 2:** MigraÃ§Ã£o executada
- [ ] **Passo 3:** Grid renderiza normalmente
- [ ] **Passo 4:** Rating funciona
- [ ] **Passo 5:** Contest funciona
- [ ] **âœ… Resultado Esperado:** 100% compatÃ­vel

---

## ðŸ“Š Resumo

| Teste | Status |
|-------|--------|
| CT1.1 | â¬œ |
| CT2.1 | â¬œ |
| CT2.2 | â¬œ |
| CT3.1 | â¬œ |
| CT3.2 | â¬œ |
| CT3.3 | â¬œ |
| CT4.1 | â¬œ |
| CT5.1 | â¬œ |

**Total:** 8 casos de teste (foco em migraÃ§Ã£o)

